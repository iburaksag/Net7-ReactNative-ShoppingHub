2024-01-04 03:49:01.712 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 03:49:02.312 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 03:49:02.314 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 03:49:02.314 +03:00 [INF] Hosting environment: Development
2024-01-04 03:49:02.314 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 03:49:04.565 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 03:49:04.791 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 237.6700ms
2024-01-04 03:49:05.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 03:49:05.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.6492ms
2024-01-04 03:59:24.519 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 46
2024-01-04 03:59:24.519 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 46
2024-01-04 03:59:24.665 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 03:59:24.713 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 03:59:24.713 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 03:59:24.794 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 03:59:24.794 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 03:59:27.534 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 03:59:27.534 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 03:59:27.645 +03:00 [INF] Accessing expired session, Key:96556f02-8805-3a7b-569b-1beb91b69461
2024-01-04 03:59:27.645 +03:00 [INF] Accessing expired session, Key:96556f02-8805-3a7b-569b-1beb91b69461
2024-01-04 03:59:27.646 +03:00 [INF] User assa@gmail.com logged in successfully
2024-01-04 03:59:27.646 +03:00 [INF] User assa@gmail.com logged in successfully
2024-01-04 03:59:27.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 03:59:27.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 03:59:27.680 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 2883.1764ms
2024-01-04 03:59:27.680 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 2883.1696ms
2024-01-04 03:59:27.681 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 03:59:27.681 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 03:59:27.683 +03:00 [INF] Session started; Key:96556f02-8805-3a7b-569b-1beb91b69461, Id:97eaf721-e7b7-07b3-b58d-7ef721f0f915
2024-01-04 03:59:27.683 +03:00 [INF] Session started; Key:96556f02-8805-3a7b-569b-1beb91b69461, Id:92d17ce2-fd89-7f68-717a-22c94ca9d839
2024-01-04 03:59:27.686 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 3036.5805 ms
2024-01-04 03:59:27.686 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 3036.6194 ms
2024-01-04 03:59:27.700 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 46 - 200 - application/json;+charset=utf-8 3190.8907ms
2024-01-04 03:59:27.700 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 46 - 200 - application/json;+charset=utf-8 3190.8874ms
2024-01-04 04:12:18.647 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:12:18.751 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:18.776 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:12:19.149 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:12:19.168 +03:00 [ERR] Login failed for user iburaksag@gmail.com
2024-01-04 04:12:19.174 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:12:19.201 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 423.7689ms
2024-01-04 04:12:19.202 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:19.204 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 501.2971 ms
2024-01-04 04:12:19.206 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 401 - application/json;+charset=utf-8 563.0781ms
2024-01-04 04:12:22.399 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:12:22.401 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:22.401 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:12:22.421 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:12:22.421 +03:00 [ERR] Login failed for user iburaksag@gmail.com
2024-01-04 04:12:22.422 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:12:22.422 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 21.0442ms
2024-01-04 04:12:22.422 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:22.423 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 22.2398 ms
2024-01-04 04:12:22.423 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 401 - application/json;+charset=utf-8 23.3233ms
2024-01-04 04:12:31.049 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:12:31.055 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:31.056 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:12:31.059 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:12:31.060 +03:00 [ERR] Login failed for user iburaksag@gmail.com
2024-01-04 04:12:31.060 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:12:31.060 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 4.5165ms
2024-01-04 04:12:31.060 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:31.060 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 5.1973 ms
2024-01-04 04:12:31.060 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 401 - application/json;+charset=utf-8 11.1924ms
2024-01-04 04:12:37.096 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:12:37.096 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:37.096 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:12:37.122 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:12:37.305 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:12:37.306 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:12:37.332 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 235.8934ms
2024-01-04 04:12:37.333 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:12:37.333 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:b4a5a2c3-b272-8063-aeef-4c248bceb806
2024-01-04 04:12:37.335 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 238.6767 ms
2024-01-04 04:12:37.335 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 239.4192ms
2024-01-04 04:12:37.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:12:37.550 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:12:37.564 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:13:11.549 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:13:11.600 +03:00 [INF] GetBasketsByUserId for User  successful.
2024-01-04 04:13:11.602 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:13:11.642 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 34092.3206ms
2024-01-04 04:13:11.642 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:13:11.642 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 34108.4994 ms
2024-01-04 04:13:11.643 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 34119.3053ms
2024-01-04 04:14:37.305 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 04:14:37.587 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 04:14:37.589 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 04:14:37.589 +03:00 [INF] Hosting environment: Development
2024-01-04 04:14:37.590 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 04:14:42.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:14:43.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 365.4890ms
2024-01-04 04:14:43.976 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 04:14:44.175 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.7046ms
2024-01-04 04:14:48.381 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:14:48.418 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 04:14:48.452 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:14:48.519 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:14:50.746 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:14:50.866 +03:00 [INF] Accessing expired session, Key:181f807c-680f-dd86-9978-2b114ffd82e8
2024-01-04 04:14:50.867 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:14:50.875 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:14:50.904 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 2381.1335ms
2024-01-04 04:14:50.905 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:14:50.908 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:597bb5b3-f18d-87df-680c-3cddb458ffca
2024-01-04 04:14:50.913 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 2508.2519 ms
2024-01-04 04:14:50.928 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2547.8295ms
2024-01-04 04:14:51.092 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:14:51.096 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:14:51.102 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:15:16.768 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:15:16.845 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:15:16.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:15:16.884 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 25782.1163ms
2024-01-04 04:15:16.885 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:15:16.887 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 25791.7018 ms
2024-01-04 04:15:16.888 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 25795.2558ms
2024-01-04 04:21:03.267 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 04:21:03.497 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 04:21:03.499 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 04:21:03.499 +03:00 [INF] Hosting environment: Development
2024-01-04 04:21:03.499 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 04:21:06.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:21:06.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 172.1361ms
2024-01-04 04:21:07.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 04:21:07.738 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.8029ms
2024-01-04 04:21:15.024 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:21:15.050 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 04:21:15.079 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:21:15.121 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:21:16.662 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:21:16.759 +03:00 [INF] Accessing expired session, Key:181f807c-680f-dd86-9978-2b114ffd82e8
2024-01-04 04:21:16.760 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:21:16.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:21:16.791 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1667.1815ms
2024-01-04 04:21:16.792 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:21:16.794 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:0427ca18-04f0-4670-4a32-81b53d6e58a2
2024-01-04 04:21:16.797 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1753.1826 ms
2024-01-04 04:21:16.806 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 1783.4231ms
2024-01-04 04:21:16.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:21:16.951 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:21:16.954 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:21:25.716 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:21:25.767 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:21:25.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:21:25.786 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 8832.3353ms
2024-01-04 04:21:25.787 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:21:25.787 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 8837.5034 ms
2024-01-04 04:21:25.788 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 8840.1383ms
2024-01-04 04:25:24.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:25:24.145 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:25:24.158 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:25:31.991 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:25:32.005 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:25:32.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:25:32.017 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 7855.9255ms
2024-01-04 04:25:32.018 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:25:32.018 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 7884.1675 ms
2024-01-04 04:25:32.019 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 7917.3261ms
2024-01-04 04:26:40.602 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:26:40.615 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:26:40.621 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:26:40.935 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:26:40.940 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 04:26:40.940 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:26:40.941 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 319.9247ms
2024-01-04 04:26:40.941 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:26:40.946 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 335.6014 ms
2024-01-04 04:26:40.946 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 345.0706ms
2024-01-04 04:26:41.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:26:41.022 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:26:41.022 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:26:58.009 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:26:58.012 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 04:26:58.013 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:26:58.013 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 16990.4216ms
2024-01-04 04:26:58.013 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:26:58.013 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 16991.2498 ms
2024-01-04 04:26:58.013 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 16992.2126ms
2024-01-04 04:28:16.464 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:28:16.474 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:28:16.475 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:28:16.647 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:28:16.696 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 04:28:16.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:28:16.700 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 225.1044ms
2024-01-04 04:28:16.701 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:28:16.701 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 231.2745 ms
2024-01-04 04:28:16.702 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 240.0273ms
2024-01-04 04:28:16.770 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:28:16.771 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:28:16.771 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:28:19.815 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:28:19.822 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 04:28:19.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:28:19.826 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 3054.3735ms
2024-01-04 04:28:19.826 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:28:19.826 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 3055.5375 ms
2024-01-04 04:28:19.827 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 3057.0475ms
2024-01-04 04:29:20.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:29:20.929 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:29:20.936 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:29:24.874 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:29:24.880 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 04:29:24.882 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:29:24.888 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 3951.0004ms
2024-01-04 04:29:24.888 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:29:24.890 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 3965.0134 ms
2024-01-04 04:29:24.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 3976.9754ms
2024-01-04 04:29:51.152 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:29:51.154 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:29:51.158 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:04.057 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:05.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:04.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:04.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:05.863 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:05.863 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:44:05.864 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:05.864 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.864 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.864 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.864 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.865 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.865 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:44:05.866 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:05.871 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:44:05.872 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:05.871 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:05.871 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:05.871 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:05.871 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:05.872 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:25.702 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 04:44:25.967 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 04:44:25.969 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 04:44:25.969 +03:00 [INF] Hosting environment: Development
2024-01-04 04:44:25.969 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 04:44:28.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:44:29.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 204.0519ms
2024-01-04 04:44:29.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 04:44:29.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.8429ms
2024-01-04 04:44:33.212 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:44:33.222 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 04:44:33.231 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:44:33.255 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:44:34.713 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:44:34.809 +03:00 [INF] Accessing expired session, Key:181f807c-680f-dd86-9978-2b114ffd82e8
2024-01-04 04:44:34.810 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 04:44:34.817 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:44:34.837 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1578.4517ms
2024-01-04 04:44:34.838 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:44:34.840 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:dbf04df1-bc1e-1c73-b15d-81989e26b444
2024-01-04 04:44:34.843 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1623.0448 ms
2024-01-04 04:44:34.852 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 1639.9223ms
2024-01-04 04:44:35.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:44:35.050 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:35.054 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:44.936 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:44:44.984 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 04:44:44.984 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:44:45.006 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 9952.5713ms
2024-01-04 04:44:45.007 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:44:45.007 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 9958.5302 ms
2024-01-04 04:44:45.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 9963.1947ms
2024-01-04 04:44:57.306 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 04:44:57.307 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:44:57.310 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:44:57.434 +03:00 [ERR] Error in CreateBasket: User with Id 0 not found.
System.ApplicationException: User with Id 0 not found.
   at ShoppingHub.Application.Baskets.Commands.CreateBasket.CreateBasketCommandHandler.Handle(CreateBasketCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/Baskets/Commands/CreateBasket/CreateBasketCommandHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketController.CreateBasket() in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketController.cs:line 80
2024-01-04 04:44:57.459 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 04:44:57.460 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 149.2657ms
2024-01-04 04:44:57.460 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:44:57.460 +03:00 [ERR] HTTP POST /api/v1/basket responded 500 in 152.8769 ms
2024-01-04 04:44:57.460 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 500 - text/plain;+charset=utf-8 153.6893ms
2024-01-04 04:45:20.187 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 04:45:20.189 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:45:20.190 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:46:13.130 +03:00 [ERR] Error in CreateBasket: User with Id 0 not found.
System.ApplicationException: User with Id 0 not found.
   at ShoppingHub.Application.Baskets.Commands.CreateBasket.CreateBasketCommandHandler.Handle(CreateBasketCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/Baskets/Commands/CreateBasket/CreateBasketCommandHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketController.CreateBasket() in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketController.cs:line 80
2024-01-04 04:46:13.135 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 04:46:13.136 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 52946.3255ms
2024-01-04 04:46:13.136 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:46:13.137 +03:00 [ERR] HTTP POST /api/v1/basket responded 500 in 52948.1468 ms
2024-01-04 04:46:13.137 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 500 - text/plain;+charset=utf-8 52950.2022ms
2024-01-04 04:46:46.265 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:46:46.272 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:46:46.275 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:46:46.410 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:46:46.413 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:46:46.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:46:46.415 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 139.9647ms
2024-01-04 04:46:46.415 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:46:46.416 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 145.5772 ms
2024-01-04 04:46:46.416 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 151.4386ms
2024-01-04 04:46:46.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:46:46.493 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:46:46.494 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:46:46.515 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:46:46.522 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:46:46.522 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:46:46.523 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 29.248ms
2024-01-04 04:46:46.523 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:46:46.523 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 30.2092 ms
2024-01-04 04:46:46.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 34.5091ms
2024-01-04 04:46:50.935 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 04:46:50.936 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:46:50.936 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:48:03.599 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 04:48:03.820 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 04:48:03.835 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 04:48:03.835 +03:00 [INF] Hosting environment: Development
2024-01-04 04:48:03.835 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 04:48:06.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:48:06.283 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 222.2699ms
2024-01-04 04:48:06.837 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 04:48:07.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.3564ms
2024-01-04 04:48:07.580 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:48:07.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 2.9859ms
2024-01-04 04:48:19.695 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:48:19.726 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 04:48:19.754 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:48:19.805 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:48:21.413 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:48:21.509 +03:00 [INF] Accessing expired session, Key:181f807c-680f-dd86-9978-2b114ffd82e8
2024-01-04 04:48:21.510 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:48:21.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:48:21.540 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1731.1422ms
2024-01-04 04:48:21.541 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:48:21.542 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:eae6890e-d90a-1854-d879-a847cd9b9202
2024-01-04 04:48:21.545 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1826.2935 ms
2024-01-04 04:48:21.554 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 1860.9189ms
2024-01-04 04:48:21.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:48:21.745 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:48:21.748 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:48:21.914 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:48:22.054 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:48:22.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:48:22.075 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 326.2574ms
2024-01-04 04:48:22.075 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:48:22.075 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 331.3208 ms
2024-01-04 04:48:22.076 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 339.6749ms
2024-01-04 04:48:24.596 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 04:48:24.599 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:48:24.602 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:48:55.906 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 04:48:56.049 +03:00 [INF] CreateBasket successful. BasketId: 18
2024-01-04 04:48:56.051 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:48:56.055 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 31452.2933ms
2024-01-04 04:48:56.055 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:48:56.056 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 31458.0835 ms
2024-01-04 04:48:56.057 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 31460.9895ms
2024-01-04 04:51:13.173 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:51:13.202 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:13.207 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:51:13.362 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:51:13.372 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:51:13.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:51:13.375 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 167.9309ms
2024-01-04 04:51:13.376 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:13.376 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 184.5079 ms
2024-01-04 04:51:13.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 206.9375ms
2024-01-04 04:51:30.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:51:30.201 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:30.201 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:51:30.219 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:51:30.220 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:51:30.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:51:30.220 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 18.794ms
2024-01-04 04:51:30.220 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:30.220 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 20.0919 ms
2024-01-04 04:51:30.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 21.2005ms
2024-01-04 04:51:33.149 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:51:33.149 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:33.150 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:51:33.177 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:51:33.178 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:51:33.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:51:33.179 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 29.1639ms
2024-01-04 04:51:33.179 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:33.180 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 30.8894 ms
2024-01-04 04:51:33.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 54.3999ms
2024-01-04 04:51:46.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:51:46.897 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:46.897 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:51:46.902 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:51:47.015 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:51:47.021 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:51:47.025 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 127.0614ms
2024-01-04 04:51:47.025 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:51:47.025 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 127.8075 ms
2024-01-04 04:51:47.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 129.7541ms
2024-01-04 04:52:11.151 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:52:11.152 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:52:11.153 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:52:11.182 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:52:11.261 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:52:11.261 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:52:11.262 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 108.6299ms
2024-01-04 04:52:11.262 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:52:11.262 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 110.0525 ms
2024-01-04 04:52:11.262 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 111.5505ms
2024-01-04 04:52:17.539 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:52:17.539 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:52:17.540 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:52:17.585 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:52:17.613 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:52:17.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:52:17.616 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 76.564ms
2024-01-04 04:52:17.616 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:52:17.616 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 77.3105 ms
2024-01-04 04:52:17.617 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 78.0780ms
2024-01-04 04:52:47.352 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 40
2024-01-04 04:52:47.383 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:52:47.384 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:52:47.433 +03:00 [ERR] Login failed for user deneme@@
2024-01-04 04:52:47.434 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:52:47.440 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 55.8449ms
2024-01-04 04:52:47.440 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:52:47.440 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 57.6433 ms
2024-01-04 04:52:47.440 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 40 - 401 - application/json;+charset=utf-8 88.3337ms
2024-01-04 04:55:42.424 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 32
2024-01-04 04:55:42.430 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:55:42.435 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:55:42.460 +03:00 [ERR] Login failed for user 
2024-01-04 04:55:42.462 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:55:42.463 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 27.0163ms
2024-01-04 04:55:42.463 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:55:42.464 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 35.5958 ms
2024-01-04 04:55:42.464 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 32 - 401 - application/json;+charset=utf-8 41.5299ms
2024-01-04 04:55:55.554 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 04:55:55.817 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 04:55:55.819 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 04:55:55.819 +03:00 [INF] Hosting environment: Development
2024-01-04 04:55:55.819 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 04:55:57.852 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 04:55:58.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 203.7022ms
2024-01-04 04:55:58.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 04:55:58.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.5842ms
2024-01-04 04:56:03.555 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 35
2024-01-04 04:56:03.564 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 04:56:03.574 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:03.603 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:03.902 +03:00 [ERR] Login failed for user dsa
2024-01-04 04:56:03.907 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:56:03.915 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 307.8825ms
2024-01-04 04:56:03.918 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:03.927 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 361.5699 ms
2024-01-04 04:56:03.930 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 35 - 401 - application/json;+charset=utf-8 375.2299ms
2024-01-04 04:56:14.074 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 39
2024-01-04 04:56:14.077 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:14.078 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:14.088 +03:00 [ERR] Login failed for user iburaks
2024-01-04 04:56:14.088 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:56:14.089 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 11.0226ms
2024-01-04 04:56:14.089 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:14.089 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 12.5293 ms
2024-01-04 04:56:14.089 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 39 - 401 - application/json;+charset=utf-8 15.0721ms
2024-01-04 04:56:18.369 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 49
2024-01-04 04:56:18.371 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:18.371 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:19.754 +03:00 [INF] Executed DbCommand (172ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:56:19.775 +03:00 [ERR] Login failed for user iburaks@gmail.com
2024-01-04 04:56:19.778 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:56:19.779 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1408.3451ms
2024-01-04 04:56:19.780 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:19.782 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 1411.2279 ms
2024-01-04 04:56:19.790 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 49 - 401 - application/json;+charset=utf-8 1420.6144ms
2024-01-04 04:56:30.090 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 04:56:30.091 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:30.091 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:30.351 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:56:30.447 +03:00 [INF] Accessing expired session, Key:181f807c-680f-dd86-9978-2b114ffd82e8
2024-01-04 04:56:30.447 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 04:56:30.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:56:30.467 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 376.0625ms
2024-01-04 04:56:30.467 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:30.468 +03:00 [INF] Session started; Key:181f807c-680f-dd86-9978-2b114ffd82e8, Id:b3c9f9f9-10c9-c6b6-c340-feb0d1946d6a
2024-01-04 04:56:30.469 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 378.0598 ms
2024-01-04 04:56:30.469 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 378.8946ms
2024-01-04 04:56:30.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:56:30.575 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:56:30.580 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:56:30.798 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:56:30.945 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 04:56:30.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:56:30.961 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 381.4837ms
2024-01-04 04:56:30.961 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:56:30.961 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 386.5674 ms
2024-01-04 04:56:30.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 387.1400ms
2024-01-04 04:56:39.060 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:56:39.061 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:39.061 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:39.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:56:39.205 +03:00 [ERR] Login failed for user deneme@gmail.com
2024-01-04 04:56:39.254 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:56:39.255 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 193.4141ms
2024-01-04 04:56:39.255 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:39.255 +03:00 [INF] HTTP POST /api/v1/auth/login responded 401 in 194.2045 ms
2024-01-04 04:56:39.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 401 - application/json;+charset=utf-8 194.8619ms
2024-01-04 04:56:44.013 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 04:56:44.023 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:44.023 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 04:56:44.027 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 04:56:44.101 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 04:56:44.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 04:56:44.173 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 149.7177ms
2024-01-04 04:56:44.173 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 04:56:44.175 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 151.7953 ms
2024-01-04 04:56:44.175 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 187.5741ms
2024-01-04 04:56:44.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 04:56:44.245 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:56:44.245 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:56:44.276 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 04:56:44.416 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 04:56:44.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 04:56:44.416 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 171.1382ms
2024-01-04 04:56:44.417 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 04:56:44.417 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 172.0571 ms
2024-01-04 04:56:44.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 172.7178ms
2024-01-04 04:56:58.374 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 04:56:58.374 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:56:58.379 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 04:57:03.022 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 04:57:03.179 +03:00 [INF] CreateBasket successful. BasketId: 19
2024-01-04 04:57:03.179 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 04:57:03.180 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 4800.45ms
2024-01-04 04:57:03.180 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 04:57:03.180 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 4806.0990 ms
2024-01-04 04:57:03.181 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 4806.9254ms
2024-01-04 16:55:28.456 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 16:55:29.148 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 16:55:29.151 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 16:55:29.151 +03:00 [INF] Hosting environment: Development
2024-01-04 16:55:29.151 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 16:55:32.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 16:55:32.952 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 239.1650ms
2024-01-04 16:55:33.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 16:55:33.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 268.1993ms
2024-01-04 16:55:40.229 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 16:55:40.242 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 16:55:40.259 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 16:55:40.308 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 16:55:41.786 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 16:55:41.791 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 16:55:41.791 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 16:55:42.264 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 16:55:42.264 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 16:55:42.372 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 16:55:42.372 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 16:55:42.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 16:55:42.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 16:55:42.408 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 2096.2146ms
2024-01-04 16:55:42.408 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 613.9629ms
2024-01-04 16:55:42.409 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 16:55:42.409 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 16:55:42.411 +03:00 [INF] Session started; Key:abbe6101-0298-d4db-2336-e1643fd98a52, Id:a0d9a5d0-00c6-e80d-0698-662a185da10e
2024-01-04 16:55:42.411 +03:00 [INF] Session started; Key:16507539-0453-1d63-a2e0-9ec094adb6a4, Id:b02fab70-3f97-05ad-4636-872910e36db6
2024-01-04 16:55:42.415 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 623.4897 ms
2024-01-04 16:55:42.415 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 2176.4285 ms
2024-01-04 16:55:42.424 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 638.2040ms
2024-01-04 16:55:42.424 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2194.8503ms
2024-01-04 16:55:42.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 16:55:42.699 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 16:55:42.703 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 16:55:42.901 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 16:55:42.948 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 16:55:42.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 16:55:42.968 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 265.5133ms
2024-01-04 16:55:42.968 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 16:55:42.969 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 273.2719 ms
2024-01-04 16:55:42.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 275.0025ms
2024-01-04 16:56:02.303 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 16:56:02.305 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 16:56:02.308 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 16:56:15.222 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 16:56:15.249 +03:00 [INF] CreateBasket successful. BasketId: 20
2024-01-04 16:56:15.249 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 16:56:15.251 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 12943.6522ms
2024-01-04 16:56:15.252 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 16:56:15.252 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 12948.5030 ms
2024-01-04 16:56:15.253 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 12949.4848ms
2024-01-04 17:16:34.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:16:34.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:16:34.211 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:16:34.212 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:16:34.302 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:16:34.302 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:16:34.791 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:16:34.791 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:16:34.812 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:16:34.813 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:16:34.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:16:34.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:16:34.830 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 527.629ms
2024-01-04 17:16:34.830 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 527.6642ms
2024-01-04 17:16:34.830 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:16:34.830 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:16:34.831 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 638.6311 ms
2024-01-04 17:16:34.831 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 638.6852 ms
2024-01-04 17:16:34.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 728.7319ms
2024-01-04 17:16:34.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 728.7610ms
2024-01-04 17:17:50.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:17:50.068 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:17:50.070 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:17:50.096 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:17:50.096 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:17:50.098 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:17:50.098 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 27.5691ms
2024-01-04 17:17:50.098 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:17:50.098 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 30.9711 ms
2024-01-04 17:17:50.099 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 35.9175ms
2024-01-04 17:18:26.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:18:26.672 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:18:26.673 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:18:26.773 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:18:26.993 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:18:27.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:18:27.043 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 370.1769ms
2024-01-04 17:18:27.043 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:18:27.044 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 372.0032 ms
2024-01-04 17:18:27.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 374.7727ms
2024-01-04 17:19:55.416 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 17:19:55.424 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:19:55.427 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:19:55.637 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:19:56.020 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 17:19:56.024 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:19:56.032 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 606.7658ms
2024-01-04 17:19:56.033 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:19:56.033 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 614.2651 ms
2024-01-04 17:19:56.034 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 620.4482ms
2024-01-04 17:19:56.110 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:19:56.134 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:19:56.135 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:19:56.194 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:19:56.199 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 17:19:56.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:19:56.201 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 66.4096ms
2024-01-04 17:19:56.201 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:19:56.202 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 69.7018 ms
2024-01-04 17:19:56.202 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 91.7078ms
2024-01-04 17:19:57.376 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:19:57.376 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:19:57.377 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:19:57.422 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:19:57.426 +03:00 [INF] CreateBasket successful. BasketId: 21
2024-01-04 17:19:57.426 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:19:57.427 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 49.4586ms
2024-01-04 17:19:57.427 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:19:57.427 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 50.9098 ms
2024-01-04 17:19:57.427 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 51.2406ms
2024-01-04 17:19:57.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:19:57.512 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:19:57.513 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:20:01.210 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:20:01.231 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:20:01.232 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:20:01.232 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 3725.4773ms
2024-01-04 17:20:01.232 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:20:01.232 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 3726.4679 ms
2024-01-04 17:20:01.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 3726.8814ms
2024-01-04 17:20:35.807 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:20:35.813 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:20:35.813 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:20:35.842 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:20:35.843 +03:00 [INF] CreateBasket successful. BasketId: 22
2024-01-04 17:20:35.847 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:20:35.848 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 34.3376ms
2024-01-04 17:20:35.848 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:20:35.848 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 35.0844 ms
2024-01-04 17:20:35.848 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 65.7162ms
2024-01-04 17:20:35.934 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:20:35.935 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:20:35.935 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:21:12.748 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:21:23.439 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:21:23.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:21:23.441 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 47508.5467ms
2024-01-04 17:21:23.442 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:21:23.442 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 47509.9299 ms
2024-01-04 17:21:23.443 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 47512.2898ms
2024-01-04 17:23:50.379 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:23:50.391 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:23:50.392 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:23:50.754 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:23:50.755 +03:00 [INF] CreateBasket successful. BasketId: 23
2024-01-04 17:23:50.756 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:23:50.757 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 364.9658ms
2024-01-04 17:23:50.757 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:23:50.758 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 370.7987 ms
2024-01-04 17:23:50.758 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 380.9938ms
2024-01-04 17:23:50.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:23:50.849 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:23:50.850 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:23:53.161 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:23:53.220 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:23:53.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:23:53.224 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 2373.8412ms
2024-01-04 17:23:53.224 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:23:53.224 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 2374.9914 ms
2024-01-04 17:23:53.224 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 2377.3008ms
2024-01-04 17:25:47.647 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:25:47.723 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:25:47.729 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:25:48.007 +03:00 [INF] Executed DbCommand (230ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:25:48.010 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:25:48.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:25:48.022 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 292.3491ms
2024-01-04 17:25:48.022 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:25:48.048 +03:00 [INF] Session started; Key:7c97e83d-e01c-48c9-3069-ccb7f91e5cac, Id:53bb4e96-3508-8cda-8bbe-6d8d0444bdd9
2024-01-04 17:25:48.048 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 340.1945 ms
2024-01-04 17:25:48.049 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 404.4039ms
2024-01-04 17:25:48.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:25:48.139 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:25:48.139 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:25:48.202 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:25:48.256 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 17:25:48.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:25:48.262 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 122.7525ms
2024-01-04 17:25:48.263 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:25:48.263 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 125.3864 ms
2024-01-04 17:25:48.263 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 126.3551ms
2024-01-04 17:25:49.352 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:25:49.353 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:25:49.354 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:25:49.398 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:25:49.399 +03:00 [INF] CreateBasket successful. BasketId: 24
2024-01-04 17:25:49.399 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:25:49.400 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 45.9531ms
2024-01-04 17:25:49.400 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:25:49.400 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 47.3397 ms
2024-01-04 17:25:49.400 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 47.7124ms
2024-01-04 17:25:49.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:25:49.483 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:25:49.484 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:26:02.096 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:26:02.122 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:26:02.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:26:02.123 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 12639.3657ms
2024-01-04 17:26:02.123 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:26:02.123 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 12640.3025 ms
2024-01-04 17:26:02.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 12640.8279ms
2024-01-04 17:26:32.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:26:32.765 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:26:32.766 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:27:50.755 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:27:51.024 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:27:51.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:27:51.029 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 78262.6151ms
2024-01-04 17:27:51.030 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:27:51.030 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 78266.7402 ms
2024-01-04 17:27:51.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 78274.7119ms
2024-01-04 17:28:25.761 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30
2024-01-04 17:28:25.774 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:28:25.829 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 17:28:48.606 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."Id" = @__p_0
LIMIT 1
2024-01-04 17:28:49.027 +03:00 [ERR] Failed executing DbCommand (118ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 17:28:49.148 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 17:28:49.440 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 49
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 17:28:49.460 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 17:28:49.462 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 23633.1531ms
2024-01-04 17:28:49.462 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:28:49.462 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 23694.7257 ms
2024-01-04 17:28:49.463 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30 - 500 - text/plain;+charset=utf-8 23703.2530ms
2024-01-04 17:32:08.925 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:32:08.944 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:32:08.946 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:32:09.661 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:32:09.665 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:32:09.666 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:32:09.667 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 720.4056ms
2024-01-04 17:32:09.667 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:32:09.668 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 733.6285 ms
2024-01-04 17:32:09.668 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 758.9326ms
2024-01-04 17:32:09.769 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:32:09.770 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:32:09.770 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:32:09.785 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:32:09.788 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 17:32:09.788 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:32:09.789 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 18.2114ms
2024-01-04 17:32:09.789 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:32:09.789 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 18.9001 ms
2024-01-04 17:32:09.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 20.2042ms
2024-01-04 17:32:13.412 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:32:13.412 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:32:13.412 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:32:13.507 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:32:13.608 +03:00 [INF] CreateBasket successful. BasketId: 25
2024-01-04 17:32:13.656 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:32:13.683 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 270.495ms
2024-01-04 17:32:13.683 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:32:13.683 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 271.5042 ms
2024-01-04 17:32:13.684 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 271.9369ms
2024-01-04 17:32:13.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:32:13.766 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:32:13.766 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:32:18.190 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:32:18.191 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:32:18.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:32:18.192 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 4425.5418ms
2024-01-04 17:32:18.192 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:32:18.192 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 4426.3217 ms
2024-01-04 17:32:18.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 4428.4979ms
2024-01-04 17:32:57.251 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:32:57.254 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:32:57.254 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:32:57.308 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:32:57.405 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:32:57.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:32:57.523 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 269.3515ms
2024-01-04 17:32:57.524 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:32:57.524 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 271.3638 ms
2024-01-04 17:32:57.525 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 273.5809ms
2024-01-04 17:32:57.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:32:57.602 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:32:57.603 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:32:57.618 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:32:57.620 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 17:32:57.621 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:32:57.622 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 17.9093ms
2024-01-04 17:32:57.626 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:32:57.626 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 24.0856 ms
2024-01-04 17:32:57.627 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 25.8596ms
2024-01-04 17:33:00.732 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:33:00.735 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:33:00.735 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:33:00.787 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:33:00.874 +03:00 [INF] CreateBasket successful. BasketId: 26
2024-01-04 17:33:00.922 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:33:00.943 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 207.5858ms
2024-01-04 17:33:00.943 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:33:00.944 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 210.2162 ms
2024-01-04 17:33:00.944 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 212.1455ms
2024-01-04 17:33:01.058 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:33:01.059 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:33:01.060 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:33:05.337 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:33:05.458 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:33:05.458 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:33:05.458 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 4398.2011ms
2024-01-04 17:33:05.459 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:33:05.459 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 4400.7061 ms
2024-01-04 17:33:05.459 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 4401.2252ms
2024-01-04 17:33:32.089 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30
2024-01-04 17:33:32.095 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:33:32.096 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 17:34:34.984 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."Id" = @__p_0
LIMIT 1
2024-01-04 17:35:03.606 +03:00 [ERR] Failed executing DbCommand (83ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 17:35:03.623 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 17:35:03.753 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 49
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 17:35:03.765 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 17:35:03.768 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 91671.9537ms
2024-01-04 17:35:03.768 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:35:03.768 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 91674.6129 ms
2024-01-04 17:35:03.769 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30 - 500 - text/plain;+charset=utf-8 91680.2928ms
2024-01-04 17:35:52.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:35:52.497 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:35:52.498 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:52:59.289 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:52:59.290 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:52:59.298 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:52:59.298 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:52:59.301 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:52:59.301 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:52:59.315 +03:00 [INF] Executed DbCommand (288ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:52:59.328 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:52:59.331 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:52:59.479 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:52:59.676 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:52:59.765 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:52:59.937 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 635.3841ms
2024-01-04 17:52:59.979 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:53:00.047 +03:00 [INF] Session started; Key:a909573f-2c43-dc8b-527a-6b0021c85a0f, Id:cc92b0a7-afa2-af47-d73f-a9a7713908cd
2024-01-04 17:53:00.068 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 775.3233 ms
2024-01-04 17:53:00.068 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 781.0238ms
2024-01-04 17:53:00.077 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 1027612.5637ms
2024-01-04 17:53:00.077 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:53:00.077 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 1027620.2129 ms
2024-01-04 17:53:00.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 0 - application/json;+charset=utf-8 1027629.4314ms
2024-01-04 17:53:00.154 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:53:00.155 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:53:00.155 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:53:00.155 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 853.9605ms
2024-01-04 17:53:00.155 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:53:00.155 +03:00 [INF] Session started; Key:ab5490ba-e7c3-4fc6-31c6-33f410111a01, Id:d340c33d-c4bf-3f03-3a7a-43e7dd6351f6
2024-01-04 17:53:00.155 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 862.5125 ms
2024-01-04 17:53:00.155 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 868.2196ms
2024-01-04 17:53:00.293 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:53:00.295 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:53:00.296 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:53:00.348 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:53:00.554 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 17:53:00.602 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:53:00.603 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 307.3733ms
2024-01-04 17:53:00.604 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:53:00.604 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 310.8460 ms
2024-01-04 17:53:00.605 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 312.4765ms
2024-01-04 17:53:02.360 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:53:02.371 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:53:02.371 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:53:02.420 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:53:02.423 +03:00 [INF] CreateBasket successful. BasketId: 27
2024-01-04 17:53:02.423 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:53:02.425 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 53.719ms
2024-01-04 17:53:02.426 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:53:02.426 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 56.7776 ms
2024-01-04 17:53:02.426 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 65.9373ms
2024-01-04 17:53:02.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:53:02.513 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:53:02.514 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:53:02.545 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:53:02.695 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:53:02.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:53:02.696 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 182.0907ms
2024-01-04 17:53:02.696 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:53:02.696 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 183.6120 ms
2024-01-04 17:53:02.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 183.9250ms
2024-01-04 17:54:01.609 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 17:54:01.622 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:54:01.623 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:54:01.718 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:54:01.914 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 17:54:01.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:54:01.918 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 294.0743ms
2024-01-04 17:54:01.918 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:54:01.919 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 307.0929 ms
2024-01-04 17:54:01.919 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 336.7327ms
2024-01-04 17:54:02.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:54:02.006 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:54:02.006 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:54:02.050 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:54:02.053 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 17:54:02.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:54:02.054 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 46.9781ms
2024-01-04 17:54:02.054 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:54:02.054 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 47.6385 ms
2024-01-04 17:54:02.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 49.4798ms
2024-01-04 17:54:05.499 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:54:05.500 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:54:05.500 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:54:05.550 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:54:05.555 +03:00 [INF] CreateBasket successful. BasketId: 28
2024-01-04 17:54:05.555 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:54:05.556 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 55.5352ms
2024-01-04 17:54:05.556 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:54:05.556 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 56.9641 ms
2024-01-04 17:54:05.557 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 59.5593ms
2024-01-04 17:54:05.636 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:54:05.638 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:54:05.638 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:54:05.690 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:54:05.693 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:54:05.693 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:54:05.693 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 54.4197ms
2024-01-04 17:54:05.693 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:54:05.693 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 56.2595 ms
2024-01-04 17:54:05.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 56.5786ms
2024-01-04 17:59:14.878 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 17:59:14.904 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:59:14.908 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 17:59:15.026 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 17:59:15.250 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 17:59:15.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 17:59:15.320 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 411.1083ms
2024-01-04 17:59:15.321 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 17:59:15.323 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 433.7296 ms
2024-01-04 17:59:15.325 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 456.5564ms
2024-01-04 17:59:15.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 17:59:15.393 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:59:15.394 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:59:15.468 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 17:59:15.717 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 17:59:15.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:59:15.787 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 392.9867ms
2024-01-04 17:59:15.787 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 17:59:15.787 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 395.6071 ms
2024-01-04 17:59:15.787 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 397.9388ms
2024-01-04 17:59:16.714 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 17:59:16.715 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:59:16.715 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 17:59:16.742 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 17:59:16.743 +03:00 [INF] CreateBasket successful. BasketId: 29
2024-01-04 17:59:16.743 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 17:59:16.744 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 28.2562ms
2024-01-04 17:59:16.744 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 17:59:16.744 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 29.4243 ms
2024-01-04 17:59:16.744 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 30.4129ms
2024-01-04 17:59:16.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 17:59:16.886 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:59:16.886 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 17:59:16.890 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 17:59:17.012 +03:00 [INF] GetAllProducts successful.
2024-01-04 17:59:17.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 17:59:17.087 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 201.6212ms
2024-01-04 17:59:17.088 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 17:59:17.088 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 202.3175 ms
2024-01-04 17:59:17.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 228.3280ms
2024-01-04 17:59:21.780 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30
2024-01-04 17:59:21.781 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:59:21.782 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 17:59:27.647 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."Id" = @__p_0
LIMIT 1
2024-01-04 17:59:27.702 +03:00 [ERR] Failed executing DbCommand (46ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 17:59:27.739 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 17:59:27.902 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 49
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 17:59:27.918 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 17:59:27.920 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 6138.024ms
2024-01-04 17:59:27.920 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:59:27.920 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 6139.1091 ms
2024-01-04 17:59:27.920 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30 - 500 - text/plain;+charset=utf-8 6163.4455ms
2024-01-04 17:59:36.393 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30
2024-01-04 17:59:36.394 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 17:59:36.394 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 18:00:19.524 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."Id" = @__p_0
LIMIT 1
2024-01-04 18:00:19.545 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 18:00:19.549 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 18:00:19.678 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 49
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 18:00:19.693 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 18:00:19.694 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 43299.9981ms
2024-01-04 18:00:19.694 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:00:19.695 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 43302.1666 ms
2024-01-04 18:00:19.695 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30 - 500 - text/plain;+charset=utf-8 43302.6271ms
2024-01-04 18:01:06.370 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30
2024-01-04 18:01:06.373 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:01:06.375 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 18:01:15.563 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."Id" = @__p_0
LIMIT 1
2024-01-04 18:01:15.662 +03:00 [ERR] Failed executing DbCommand (94ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 18:01:15.677 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 18:01:15.820 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 49
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 18:01:15.841 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 18:01:15.842 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 9466.5869ms
2024-01-04 18:01:15.842 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:01:15.842 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 9470.5777 ms
2024-01-04 18:01:15.842 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 30 - 500 - text/plain;+charset=utf-8 9522.9764ms
2024-01-04 18:01:49.402 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:01:49.413 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:49.414 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:01:49.475 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:01:49.478 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:01:49.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:01:49.483 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 68.0133ms
2024-01-04 18:01:49.483 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:49.483 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 79.3730 ms
2024-01-04 18:01:49.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 82.2375ms
2024-01-04 18:01:50.094 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:01:50.094 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:50.094 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:01:50.198 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:01:50.288 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:01:50.290 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:01:50.312 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 217.6397ms
2024-01-04 18:01:50.312 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:50.312 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 218.0461 ms
2024-01-04 18:01:50.313 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 219.0682ms
2024-01-04 18:01:53.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:01:53.220 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:53.221 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:01:53.277 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:01:53.398 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:01:53.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:01:53.423 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 202.5145ms
2024-01-04 18:01:53.423 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:01:53.424 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 205.5306 ms
2024-01-04 18:01:53.424 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 206.0245ms
2024-01-04 18:02:17.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:02:17.707 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:02:17.707 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:02:17.746 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:02:17.850 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:02:17.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:02:17.880 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 172.0433ms
2024-01-04 18:02:17.881 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:02:17.881 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 175.1583 ms
2024-01-04 18:02:17.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 177.8160ms
2024-01-04 18:02:47.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:02:47.433 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:02:47.434 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:02:47.541 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:02:47.794 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:02:47.841 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:02:47.865 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 430.0276ms
2024-01-04 18:02:47.865 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:02:47.865 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 434.1350 ms
2024-01-04 18:02:47.866 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 437.7989ms
2024-01-04 18:03:21.821 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:03:21.837 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:21.837 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:03:21.885 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:03:22.132 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:03:22.178 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:03:22.206 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 367.9347ms
2024-01-04 18:03:22.208 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:22.206 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:03:22.208 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 373.0834 ms
2024-01-04 18:03:22.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 389.8386ms
2024-01-04 18:03:22.211 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:22.212 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:03:22.275 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:03:22.414 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:03:22.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:03:22.416 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 203.655ms
2024-01-04 18:03:22.416 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:22.417 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 209.1857 ms
2024-01-04 18:03:22.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 238.7825ms
2024-01-04 18:03:25.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:03:25.553 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:25.553 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:03:25.563 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:03:25.599 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:03:25.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:03:25.599 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 46.3446ms
2024-01-04 18:03:25.599 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:25.599 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 47.1741 ms
2024-01-04 18:03:25.600 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 70.4212ms
2024-01-04 18:03:30.570 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:03:30.571 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:30.571 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:03:30.603 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:03:30.807 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:03:30.827 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:03:30.828 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 256.3883ms
2024-01-04 18:03:30.828 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:03:30.828 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 257.0221 ms
2024-01-04 18:03:30.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 257.8844ms
2024-01-04 18:04:08.662 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48
2024-01-04 18:04:08.668 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:04:08.672 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 18:04:08.767 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 18:04:08.954 +03:00 [INF] User deneme@gmail.com logged in successfully
2024-01-04 18:04:09.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 18:04:09.166 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 469.0357ms
2024-01-04 18:04:09.186 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:04:09.188 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 521.5120 ms
2024-01-04 18:04:09.189 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 48 - 200 - application/json;+charset=utf-8 581.2992ms
2024-01-04 18:04:09.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 18:04:09.265 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:04:09.265 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:04:09.277 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 18:04:09.279 +03:00 [INF] GetBasketsByUserId for User 2 successful.
2024-01-04 18:04:09.279 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:04:09.282 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 16.5275ms
2024-01-04 18:04:09.282 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:04:09.282 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 17.6186 ms
2024-01-04 18:04:09.283 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 19.1194ms
2024-01-04 18:04:12.828 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 18:04:12.833 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:04:12.835 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:04:12.944 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 18:04:12.945 +03:00 [INF] CreateBasket successful. BasketId: 30
2024-01-04 18:04:12.945 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 18:04:12.947 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 112.0496ms
2024-01-04 18:04:12.947 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:04:12.947 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 116.7364 ms
2024-01-04 18:04:12.947 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 140.4736ms
2024-01-04 18:04:13.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:04:13.046 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:04:13.047 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:04:13.073 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:04:13.171 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:04:13.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:04:13.194 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 147.5505ms
2024-01-04 18:04:13.194 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:04:13.194 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 148.1645 ms
2024-01-04 18:04:13.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 148.5753ms
2024-01-04 18:04:18.260 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 17
2024-01-04 18:04:18.260 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:04:18.260 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 18:05:08.894 +03:00 [ERR] Validation error in CreateBasketDetail: Validation failed: 
 -- Quantity: Quantity is required. Severity: Error
 -- Quantity: Quantity must be greater than 0. Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Quantity: Quantity is required. Severity: Error
 -- Quantity: Quantity must be greater than 0. Severity: Error
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 32
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 18:05:08.920 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=11.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2024-01-04 18:05:09.023 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 50763.5563ms
2024-01-04 18:05:09.024 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:05:09.024 +03:00 [INF] HTTP POST /api/v1/basketdetail responded 400 in 50764.0500 ms
2024-01-04 18:05:09.024 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 17 - 400 - application/json;+charset=utf-8 50764.4175ms
2024-01-04 18:05:32.032 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:05:32.054 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:05:32.055 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:05:32.090 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:05:32.185 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:05:32.213 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:05:32.261 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 206.1903ms
2024-01-04 18:05:32.262 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:05:32.263 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 230.2256 ms
2024-01-04 18:05:32.263 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 231.1560ms
2024-01-04 18:07:21.174 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 18:07:21.490 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 18:07:21.492 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 18:07:21.493 +03:00 [INF] Hosting environment: Development
2024-01-04 18:07:21.493 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 18:07:24.572 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 18:07:24.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 366.3617ms
2024-01-04 18:07:25.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 18:07:25.623 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.4854ms
2024-01-04 18:07:52.665 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 18:07:52.728 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 18:07:52.759 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:07:52.818 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 18:07:54.541 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 18:07:54.636 +03:00 [INF] Accessing expired session, Key:ab5490ba-e7c3-4fc6-31c6-33f410111a01
2024-01-04 18:07:54.637 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 18:07:54.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 18:07:54.674 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1852.6783ms
2024-01-04 18:07:54.675 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:07:54.677 +03:00 [INF] Session started; Key:ab5490ba-e7c3-4fc6-31c6-33f410111a01, Id:936753d9-c033-f615-5aef-e3f3b948ac79
2024-01-04 18:07:54.680 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1958.8336 ms
2024-01-04 18:07:54.690 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 2026.0506ms
2024-01-04 18:07:54.767 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 18:07:54.770 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:07:54.774 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:07:55.001 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 18:07:55.047 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 18:07:55.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:07:55.065 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 291.3387ms
2024-01-04 18:07:55.065 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:07:55.066 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 297.0989 ms
2024-01-04 18:07:55.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 299.8243ms
2024-01-04 18:07:58.704 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 18:07:58.705 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:07:58.708 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:07:59.213 +03:00 [INF] Executed DbCommand (318ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 18:07:59.236 +03:00 [INF] CreateBasket successful. BasketId: 31
2024-01-04 18:07:59.236 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 18:07:59.237 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 528.5919ms
2024-01-04 18:07:59.237 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:07:59.238 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 533.2266 ms
2024-01-04 18:07:59.238 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 534.7193ms
2024-01-04 18:07:59.390 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:07:59.390 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:07:59.394 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:08:04.135 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:08:04.206 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:08:04.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:08:04.209 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 4814.46ms
2024-01-04 18:08:04.209 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:08:04.210 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 4819.4031 ms
2024-01-04 18:08:04.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 4820.2595ms
2024-01-04 18:08:14.130 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 17
2024-01-04 18:08:14.132 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:08:14.139 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 18:08:29.968 +03:00 [ERR] Failed executing DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 18:08:30.040 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ShoppingHub.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-04 18:08:30.288 +03:00 [ERR] Error in CreateBasketDetail: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "BasketDetails" violates foreign key constraint "FK_BasketDetails_Products_ProductId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BasketDetails
    ConstraintName: FK_BasketDetails_Products_ProductId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommandHandler.Handle(CreateBasketDetailCommand request, CancellationToken cancellationToken) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Application/BasketDetails/Commands/CreateBasketDetail/CreateBasketDetailCommandHandler.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail(CreateBasketDetailCommand createBasketDetailCommand) in /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation/Controllers/BasketDetailController.cs:line 56
2024-01-04 18:08:30.316 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-01-04 18:08:30.316 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 16177.1826ms
2024-01-04 18:08:30.316 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:08:30.317 +03:00 [ERR] HTTP POST /api/v1/basketdetail responded 500 in 16186.1604 ms
2024-01-04 18:08:30.317 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 17 - 500 - text/plain;+charset=utf-8 16187.2351ms
2024-01-04 18:09:00.378 +03:00 [INF] User profile is available. Using '/Users/buraksag/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-01-04 18:09:00.675 +03:00 [INF] Now listening on: http://localhost:5026
2024-01-04 18:09:00.677 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-04 18:09:00.678 +03:00 [INF] Hosting environment: Development
2024-01-04 18:09:00.678 +03:00 [INF] Content root path: /Users/buraksag/Projects/ShoppingHub/ShoppingHub.Presentation
2024-01-04 18:09:02.778 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/index.html - -
2024-01-04 18:09:02.949 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/index.html - - - 200 - text/html;charset=utf-8 171.8765ms
2024-01-04 18:09:03.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - -
2024-01-04 18:09:03.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.4810ms
2024-01-04 18:09:09.546 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51
2024-01-04 18:09:09.560 +03:00 [WRN] Failed to determine the https port for redirect.
2024-01-04 18:09:09.578 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:09:09.620 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ShoppingHub.Application.DTO.LoginDto) on controller ShoppingHub.Presentation.Controllers.AuthController (ShoppingHub.Presentation).
2024-01-04 18:09:11.133 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."DeletedAt", u."Email", u."FirstName", u."LastName", u."PasswordHash", u."PasswordSalt", u."PhoneNumber", u."UpdatedAt", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-01-04 18:09:11.221 +03:00 [INF] Accessing expired session, Key:ab5490ba-e7c3-4fc6-31c6-33f410111a01
2024-01-04 18:09:11.222 +03:00 [INF] User iburaksag@gmail.com logged in successfully
2024-01-04 18:09:11.229 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Domain.Entities.User'.
2024-01-04 18:09:11.249 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation) in 1625.5327ms
2024-01-04 18:09:11.250 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.AuthController.Login (ShoppingHub.Presentation)'
2024-01-04 18:09:11.252 +03:00 [INF] Session started; Key:ab5490ba-e7c3-4fc6-31c6-33f410111a01, Id:0aa53add-97e2-e1bb-baa7-52637c72a560
2024-01-04 18:09:11.256 +03:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1697.1333 ms
2024-01-04 18:09:11.266 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/auth/login application/json 51 - 200 - application/json;+charset=utf-8 1720.2367ms
2024-01-04 18:09:11.327 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - -
2024-01-04 18:09:11.331 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:09:11.336 +03:00 [INF] Route matched with {action = "GetBasketsByUserId", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketsByUserId() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:09:11.492 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."DeletedAt", b."IPAddress", b."OrderAddress", b."OrderDate", b."OrderTotal", b."Status", b."UpdatedAt", b."UserId"
FROM "Baskets" AS b
WHERE b."UserId" = @__userId_0
2024-01-04 18:09:11.706 +03:00 [INF] GetBasketsByUserId for User 1 successful.
2024-01-04 18:09:11.707 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.BasketDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:09:11.724 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation) in 387.6486ms
2024-01-04 18:09:11.724 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.GetBasketsByUserId (ShoppingHub.Presentation)'
2024-01-04 18:09:11.725 +03:00 [INF] HTTP GET /api/v1/basket/list responded 200 in 394.3961 ms
2024-01-04 18:09:11.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/basket/list - - - 200 - application/json;+charset=utf-8 397.8360ms
2024-01-04 18:09:13.071 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0
2024-01-04 18:09:13.073 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:09:13.076 +03:00 [INF] Route matched with {action = "CreateBasket", controller = "Basket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket() on controller ShoppingHub.Presentation.Controllers.BasketController (ShoppingHub.Presentation).
2024-01-04 18:09:13.292 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("CreatedAt", "DeletedAt", "IPAddress", "OrderAddress", "OrderDate", "OrderTotal", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2024-01-04 18:09:13.324 +03:00 [INF] CreateBasket successful. BasketId: 32
2024-01-04 18:09:13.324 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-04 18:09:13.326 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation) in 249.6852ms
2024-01-04 18:09:13.326 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketController.CreateBasket (ShoppingHub.Presentation)'
2024-01-04 18:09:13.327 +03:00 [INF] HTTP POST /api/v1/basket responded 200 in 254.2494 ms
2024-01-04 18:09:13.327 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basket - 0 - 200 - application/json;+charset=utf-8 255.9658ms
2024-01-04 18:09:13.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5026/api/v1/product - -
2024-01-04 18:09:13.411 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:09:13.418 +03:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ShoppingHub.Presentation.Controllers.ProductController (ShoppingHub.Presentation).
2024-01-04 18:09:15.781 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedAt", p."DeletedAt", p."Description", p."ProductCode", p."ProductName", p."UnitPrice", p."UpdatedAt"
FROM "Products" AS p
2024-01-04 18:09:15.899 +03:00 [INF] GetAllProducts successful.
2024-01-04 18:09:15.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ShoppingHub.Application.DTO.ProductDto, ShoppingHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-04 18:09:15.902 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation) in 2483.7694ms
2024-01-04 18:09:15.902 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.ProductController.GetAllProducts (ShoppingHub.Presentation)'
2024-01-04 18:09:15.902 +03:00 [INF] HTTP GET /api/v1/product responded 200 in 2492.0876 ms
2024-01-04 18:09:15.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5026/api/v1/product - - - 200 - application/json;+charset=utf-8 2492.8520ms
2024-01-04 18:09:24.042 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 31
2024-01-04 18:09:24.042 +03:00 [INF] Executing endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:09:24.046 +03:00 [INF] Route matched with {action = "CreateBasketDetail", controller = "BasketDetail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasketDetail(ShoppingHub.Application.BasketDetails.Commands.CreateBasketDetail.CreateBasketDetailCommand) on controller ShoppingHub.Presentation.Controllers.BasketDetailController (ShoppingHub.Presentation).
2024-01-04 18:10:00.607 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketDetails" ("BasketId", "CreatedAt", "DeletedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-01-04 18:10:00.738 +03:00 [INF] CreateBasketDetail successful.
2024-01-04 18:10:00.738 +03:00 [INF] Executing OkObjectResult, writing value of type 'ShoppingHub.Application.DTO.BasketDetailDto'.
2024-01-04 18:10:00.740 +03:00 [INF] Executed action ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation) in 36694.4033ms
2024-01-04 18:10:00.741 +03:00 [INF] Executed endpoint 'ShoppingHub.Presentation.Controllers.BasketDetailController.CreateBasketDetail (ShoppingHub.Presentation)'
2024-01-04 18:10:00.741 +03:00 [INF] HTTP POST /api/v1/basketdetail responded 200 in 36698.9134 ms
2024-01-04 18:10:00.742 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5026/api/v1/basketdetail application/json 31 - 200 - application/json;+charset=utf-8 36699.6853ms
